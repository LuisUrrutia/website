---
import type { Post } from "@/types/post";
import Card from "@/components/Card.astro";
import BlogEntry from "@/components/BlogEntry.astro";
import ViewMoreLink from "@/components/ViewMoreLink.astro";

interface Props {
	posts: Post[];
	title?: string;
	id?: string;
	viewMoreHref?: string;
	viewMoreText?: string;
}

const {
	posts,
	title = "Latest posts",
	id = "latest-posts",
	viewMoreHref,
	viewMoreText,
} = Astro.props;
---

<Card id={id} class="flex flex-col gap-6">
	<h2 class="text-title text-2xl font-semibold">{title}</h2>

	{
		posts.length === 0 ? (
			<p class="text-secondary">No posts available.</p>
		) : (
			<ul class="m-0 flex list-none flex-col p-0">
				{posts.map((post) => (
					<li>
						<BlogEntry
							title={post.title}
							category={post.category}
							date={post.date}
							href={post.href}
						/>
					</li>
				))}
			</ul>
		)
	}

	{
		viewMoreHref && (
			<ViewMoreLink class="py-6" href={viewMoreHref} text={viewMoreText} />
		)
	}
</Card>
