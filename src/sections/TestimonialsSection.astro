---
/**
 * TestimonialsSection - A section displaying testimonials in a grid layout.
 *
 * @example
 * ```astro
 * <TestimonialsSection
 *   testimonials={[
 *     { name: "John Doe", role: "Engineer at Company", photo: "/testimonials/john.jpg", quote: "Great work!" }
 *   ]}
 * />
 * ```
 */
import type { Testimonial } from "@/types/testimonial";
import TestimonialCard from "@/components/TestimonialCard.astro";

interface Props {
	testimonials: Testimonial[];
	id?: string;
}

const { testimonials, id = "testimonials" } = Astro.props;
const { t, lang } = Astro.locals;

const title = t("testimonials.title");
---

<section id={id} class="flex flex-col gap-6" aria-labelledby={`${id}-heading`}>
	<h2 id={`${id}-heading`} class="text-title text-2xl font-semibold">
		{title}
	</h2>

	<div
		class="grid grid-cols-1 gap-4 md:grid-cols-2 *:first:md:col-span-2 lg:grid-cols-3 *:first:lg:col-span-1"
	>
		{
			testimonials.map((testimonial) => (
				<TestimonialCard
					name={testimonial.name}
					role={testimonial.role[lang]}
					photo={testimonial.photo}
					quote={testimonial.quote[lang]}
					linkedin={testimonial.linkedin}
				/>
			))
		}
	</div>
</section>
