---
/**
 * ContactSection - A CTA section encouraging visitors to connect.
 *
 * Displays a heading, a prominent call-to-action button, and social media links.
 *
 * @example
 * ```astro
 * <ContactSection
 *   contactHref="mailto:hello@example.com"
 *   socials={{ github: "https://github.com/user", linkedin: "https://linkedin.com/in/user" }}
 * />
 * ```
 */
import type { SocialLinksProps } from "@/types/social";
import Card from "@/components/Card.astro";
import SocialLinks from "@/components/SocialLinks.astro";
import IconArrowRight from "@/assets/icons/arrow-right.svg";
import Logo from "@/assets/logo.svg";

interface Props {
	/** URL for the main CTA button (e.g., mailto: or contact page). */
	contactHref: string;
	/** Social media links configuration. */
	socials?: SocialLinksProps;
	/** Section ID for navigation. Defaults to "contact". */
	id?: string;
}

const { contactHref, socials, id = "contact" } = Astro.props;
const { t } = Astro.locals;

const contactText = t("contact.cta");
const heading = t("contact.heading");
const subheading = t("contact.subheading");
const opensEmailClient = t("a11y.opensEmailClient");
const socialDivider = t("contact.socialDivider");
---

<Card
	as="section"
	id={id}
	class="flex flex-col items-center gap-6 py-12 text-center"
	aria-labelledby={`${id}-heading`}
>
	<Logo class="size-12" aria-hidden="true" />
	<h2 id={`${id}-heading`} class="text-title text-3xl font-semibold">
		{heading}
		<span class="text-muted block text-xl font-normal">{subheading}</span>
	</h2>

	<a
		href={contactHref}
		aria-label={`${contactText} - ${opensEmailClient}`}
		class="bg-button text-button-foreground group focus-visible:outline-button shadow-button/25 hover:shadow-button/30 inline-flex items-center gap-2 rounded-full px-6 py-3 font-medium shadow-lg transition-all hover:shadow-xl focus-visible:outline-2 focus-visible:outline-offset-2"
	>
		<span>{contactText}</span>
		<span class="size-5 transition-transform group-hover:translate-x-1">
			<IconArrowRight class="size-full" />
		</span>
	</a>

	{
		socials && (
			<div class="flex flex-col items-center gap-6">
				<div class="flex items-center gap-3">
					<span class="bg-border h-px w-12" />
					<span class="text-muted text-sm">{socialDivider}</span>
					<span class="bg-border h-px w-12" />
				</div>
				<SocialLinks
					ariaLabel={t("a11y.socialLinksFooter")}
					{...socials}
					iconClass="size-6"
				/>
			</div>
		)
	}
</Card>
