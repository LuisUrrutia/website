---
/**
 * ArticleJsonLd - Renders JSON-LD Article schema for blog posts.
 *
 * Generates Article/BlogPosting schema with author, dates,
 * and article metadata for better SEO on blog content.
 */
import { siteOwner } from "@/data/seo";

interface Props {
	/** Article title */
	title: string;
	/** Article description/excerpt */
	description: string;
	/** Full URL of the article */
	url: string;
	/** ISO 8601 date string */
	publishedTime: string;
	/** ISO 8601 date string (optional) */
	modifiedTime?: string;
	/** Article cover image URL */
	image?: string;
	/** Article tags/keywords */
	tags?: string[];
}

const { title, description, url, publishedTime, modifiedTime, image, tags } =
	Astro.props;

const jsonLd = {
	"@context": "https://schema.org",
	"@type": "BlogPosting",
	headline: title,
	description,
	url,
	datePublished: publishedTime,
	...(modifiedTime && { dateModified: modifiedTime }),
	...(image && { image }),
	...(tags && tags.length > 0 && { keywords: tags.join(", ") }),
	author: {
		"@type": "Person",
		name: siteOwner.name,
	},
	publisher: {
		"@type": "Person",
		name: siteOwner.name,
	},
};
---

<script type="application/ld+json" set:html={JSON.stringify(jsonLd)} />
