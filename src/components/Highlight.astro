---
type HighlightColor = "sky" | "orange";

interface Props {
	color: HighlightColor;
	class?: string;
}

const { color, class: className } = Astro.props;

const colorStyles = {
	sky: "highlight--sky",
	orange: "highlight--orange",
};
---

<strong
	class:list={[
		"highlight text-title relative z-0 inline-block font-semibold whitespace-nowrap",
		colorStyles[color],
		className,
	]}><slot /></strong
>

<style>
	.highlight::before {
		content: "";
		position: absolute;
		inset: -0.375rem -0.25rem;
		z-index: -1;
		background-color: var(--highlight-color);
		mask-image: url("/images/brush-1.svg");
		mask-size: 100% 100%;
		clip-path: inset(0 100% 0 0);
		rotate: var(--highlight-rotation);
		animation: draw-in 0.6s ease-out forwards;
		animation-delay: var(--highlight-delay, 0s);
	}

	.highlight--sky {
		--highlight-color: var(--color-highlight-sky);
		--highlight-rotation: -3deg;
		--highlight-delay: 0.2s;
	}

	.highlight--orange {
		--highlight-color: var(--color-highlight-orange);
		--highlight-rotation: 3deg;
		--highlight-delay: 0.4s;
	}

	@keyframes draw-in {
		from {
			clip-path: inset(0 100% 0 0);
		}
		to {
			clip-path: inset(0 0 0 0);
		}
	}

	@media (prefers-reduced-motion: reduce) {
		.highlight::before {
			animation: none;
			clip-path: none;
		}
	}
</style>
